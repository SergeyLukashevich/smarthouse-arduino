Arduino sketches for nodes controlled via MySensors
===================================================
 

Kitchen (RGBW leds)
--------
 

There are two MySensors devices, one for color leds (RGB), and one for whites only (W). All devices are controlled independently.
 

MySensors commands:

-   V\_LIGHT

    -   0 - off,

    -   \- 1 - on until saved value (see V\_VAR1 mode 1)

-   V\_VAR1 - modes switch in text format:

    -   Color change: "0,color" - maximal value change and save for both short button press and next mode (\#1),

    -   Fade: "1,color\_start,color\_end,time" - transition from 'color\_start' to 'color\_end' per 'time',

    -   Pulse: "2,color\_start,color\_end,time" - transition from 'color\_start' to 'color\_end' and back to 'color\_start' per 'time'


Parameters:

-   color - 2 HEX for white leds, and 6 HEX for color leds

    -   time - in milliseconds


Button:

-   short press (on release). 

    -   if some leds are one, switch on all leds,

    -   if all leds are on, switch off all leds

-   long press (on press), change by the loop which leds are used:

    1.  white - on, colors - off

    2.  white - off, colors - on

    3.  white - on, colors - oon


LightSwitchAC (Phase control dimmer for 220V)
--------------------------------------------
 

MySensors input commands:

-   V\_LIGHT\_LEVEL - set maximum brightness (0 - 100)

-   V\_LIGHT - on/off

-   V\_VAR1 - dump internal stats into serial console
 

Libraries:
----------


Custom library:

-   Logging 

-   NewButton 

 
Patched library:

-   LEDFader, based on https://github.com/jgillick/arduino-LEDFader

 
External libraries:

-   SimpleTimer: http://playground.arduino.cc/Code/SimpleTimer

-   SoftTimer: https://github.com/prampec/arduino-softtimer

-   TimerOne: https://github.com/PaulStoffregen/TimerOne
